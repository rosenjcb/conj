{
  "swagger": "2.0",
  "x-id": ["reitit.swagger/default"],
  "info": {
    "title": "Conj API",
    "description": "The internal api for Conj",
    "version": "2.0"
  },
  "paths": {
    "/api/boards": {
      "get": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": []
      },
      "delete": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "Purges all boards from cache",
        "operationId": "purgeBoards"
      }
    },
    "/api/boards/{board}": {
      "get": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "board",
            "description": "",
            "type": "string",
            "required": true
          }
        ],
        "summary": "Fetches all threads from board",
        "operationId": "getBoard"
      },
      "post": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "board",
            "description": "",
            "type": "string",
            "required": true
          }
        ],
        "summary": "Create a Thread",
        "operationId": "createThread"
      },
      "delete": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "board",
            "description": "",
            "type": "string",
            "required": true
          }
        ],
        "summary": "Purges the entire board",
        "operationId": "purgeBoard"
      }
    },
    "/api/boards/{board}/threads/{id}": {
      "get": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "board",
            "description": "",
            "type": "string",
            "required": true
          },
          {
            "in": "path",
            "name": "id",
            "description": "",
            "type": "integer",
            "required": true,
            "format": "int64"
          }
        ],
        "summary": "Get a thread by id",
        "operationId": "getThread"
      },
      "put": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "board",
            "description": "",
            "type": "string",
            "required": true
          },
          {
            "in": "path",
            "name": "id",
            "description": "",
            "type": "integer",
            "required": true,
            "format": "int64"
          }
        ],
        "summary": "Inserts a post into a thread by id",
        "operationId": "replyThread"
      },
      "delete": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "board",
            "description": "",
            "type": "string",
            "required": true
          },
          {
            "in": "path",
            "name": "id",
            "description": "",
            "type": "integer",
            "required": true,
            "format": "int64"
          },
          {
            "in": "query",
            "name": "replyNo",
            "description": "",
            "type": "integer",
            "required": false,
            "format": "int64"
          },
          {
            "in": "query",
            "name": "ban",
            "description": "",
            "type": "boolean",
            "required": false
          }
        ],
        "summary": "Deletes a thread (or reply). Pass an optional parameter to ban the post author.",
        "operationId": "deleteThread"
      }
    },
    "/api/accounts": {
      "post": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "Creates a new account"
      }
    },
    "/api/ping": {
      "get": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "A testing endpoint that returns a simple message"
      }
    },
    "/api/me": {
      "get": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "Grab an account by id"
      },
      "put": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "Updates a pre-existing account (whoever is signed into the session)"
      }
    },
    "/api/authenticate": {
      "post": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "email": {},
                "pass": {},
                "provider": {}
              },
              "required": ["email", "pass", "provider"],
              "additionalProperties": false,
              "x-anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "email": {},
                    "pass": {},
                    "provider": {}
                  },
                  "required": ["email", "pass", "provider"],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "provider": {},
                    "code": {},
                    "redirectUri": {}
                  },
                  "required": ["provider", "code", "redirectUri"],
                  "additionalProperties": false
                }
              ]
            }
          }
        ],
        "summary": "Authenticates an existing account"
      }
    },
    "/api/oauth": {
      "post": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "provider": {},
                "code": {},
                "redirectUri": {}
              },
              "required": ["provider", "code", "redirectUri"],
              "additionalProperties": false
            }
          }
        ],
        "summary": "Oauth signup/login an existing account"
      }
    },
    "/api/onboarding": {
      "post": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "Finishes onboarding for an existing account"
      }
    },
    "/api/logout": {
      "get": {
        "responses": {
          "default": {
            "description": ""
          }
        },
        "produces": ["application/json"],
        "consumes": ["application/json"],
        "parameters": [],
        "summary": "Logs the user out and deletes their cookies"
      }
    }
  }
}
